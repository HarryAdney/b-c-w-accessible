let n=document.querySelectorAll(".modal"),c,l;const i=e=>[...e.querySelectorAll('a, button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])')].filter(t=>!t.hasAttribute("disabled")),u=(e,t)=>{const o=i(t),r=o[0],d=o[o.length-1];document.activeElement===d&&e.key==="Tab"&&!e.shiftKey&&(e.preventDefault(),r.focus()),document.activeElement===r&&e.key==="Tab"&&e.shiftKey&&(e.preventDefault(),d.focus())},s=e=>{const t=e.querySelector(".modal-inner");e.showModal(),c=new AbortController,l=new AbortController,document.addEventListener("keydown",o=>u(o,e),{signal:c.signal}),e.addEventListener("click",()=>{a()},{signal:l.signal}),t.addEventListener("click",o=>{o.stopPropagation()},{signal:l.signal})},a=()=>{n.forEach(e=>{const t=e.getAttribute("aria-labelledby");document.querySelector(`#${t}`).focus({preventScroll:!0}),e.close(),c?.abort(),l?.abort()})};n.forEach(e=>{const t=e.getAttribute("aria-labelledby"),o=e.querySelector(".modal-close button"),r=document.querySelector(`#${t}`);if(!r)throw new Error(`Trigger element not found. 

      Did you forget to add a trigger element with id: "${t}"?`);r.addEventListener("click",()=>s(e)),o.addEventListener("click",a)});window.closeModal=a;document.addEventListener("astro:after-swap",()=>{n=document.querySelectorAll(".modal"),n.forEach(e=>{const t=e.getAttribute("aria-labelledby"),o=e.querySelector(".modal-close button"),r=document.querySelector(`#${t}`);if(!r)throw new Error(`Trigger element not found. 

      Did you forget to add a trigger element with id: "${t}"?`);r.addEventListener("click",()=>s(e)),o.addEventListener("click",a)})});
